Name: znp.api
Host: 0.0.0.0
Port: 8888
Timeout: 60000

Project:
  Name: Zero Network Panel
  Description: Backend service benchmarked against xboard capabilities
  Version: 0.1.0

Site:
  Name: Zero Network Panel
  LogoURL: ""

Database:
  Driver: sqlite
  DSN: file:znp-dev.db?cache=shared&_foreign_keys=1
  MaxOpenConns: 10
  MaxIdleConns: 5
  ConnMaxLifetime: 300s
  LogLevel: warn

Cache:
  Provider: memory
  Redis:
    Host: 127.0.0.1:6379
    Type: node
    Password: ""
    TLS: false
    NonBlock: false
    PingTimeout: 1s
  Memory:
    Size: 1024

Kernel:
  DefaultProtocol: http
  StatusPollInterval: 30s
  StatusPollBackoff:
    Enabled: true
    MaxInterval: 5m
    Multiplier: 2
    Jitter: 0.2
  OfflineProbeMaxInterval: 0s
  HTTP:
    Timeout: 5s

CORS:
  Enabled: true
  AllowOrigins:
    - http://localhost:3000
    - http://localhost:5173
  AllowHeaders:
    - X-ZNP-API-Key
    - X-ZNP-Timestamp
    - X-ZNP-Nonce
    - X-ZNP-Signature
    - X-ZNP-Encrypted
    - X-ZNP-IV

Auth:
  AccessSecret: change-me
  AccessExpire: 24h
  RefreshSecret: change-me-too
  RefreshExpire: 720h
  Registration:
    Enabled: true
    InviteOnly: false
    InviteCodes: []
    DefaultRoles:
      - user
    RequireEmailVerification: true
  Verification:
    CodeLength: 6
    CodeTTL: 15m
    SendCooldown: 1m
    SendLimitPerHour: 5
  PasswordReset:
    CodeLength: 6
    CodeTTL: 15m
    SendCooldown: 1m
    SendLimitPerHour: 5
  PasswordPolicy:
    MinLength: 8
    MaxLength: 0
    RequireUpper: false
    RequireLower: false
    RequireDigit: false
    RequireSpecial: false
  Lockout:
    MaxAttempts: 5
    LockDuration: 15m
  Email:
    Provider: log
    From: no-reply@localhost
    SMTP:
      Host: ""
      Port: 587
      Username: ""
      Password: ""
      UseTLS: false

Credentials:
  MasterKey: change-me-credentials

Metrics:
  Enable: true
  Path: /metrics
  ListenOn: ""

Admin:
  RoutePrefix: admin
  Access:
    AllowCIDRs: []
    RateLimitPerMinute: 0
    Burst: 0

Webhook:
  AllowCIDRs: []
  SharedToken: ""
  Stripe:
    SigningSecret: ""
    ToleranceSeconds: 300

GRPCServer:
  Enable: true
  ListenOn: 0.0.0.0:8890
  Reflection: true
